<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Translating A Uniform Distribution</title>
    <link rel="stylesheet" href="../../styles.css"></style>

    <script data-ad-client="ca-pub-4496939647071346" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
</head>
<body>
    <a href="../../blog.html"><p>Back</p></a>
    
    <div class="spacer-40"></div>
    
    <h1>Translating A Uniform Distribution</h1>
    <hr>

    <div class="spacer-20"></div>
    <i>Sky Hoffert</i><br>
    <i>November 21, 2019</i>
    <div class="spacer-20"></div>

    <p>
    rand(), Math.random(), etc. - if you work with programming languages, you have probably
    come across this method of generating a random value. An important assumption that you are
    making when you do this is that you want values from a <strong>uniform</strong> distribution.
    I don't mean to assume I know anything about you, but that is probably exactly what you wanted
    to do :)
    <br><br>
    <img src="uniform_basic.png" width="400px">
    <br><br>
    Imagine closing your eyes and placing your finger somewhere in the shaded region in this image.
    Notice that at <strong>any</strong> point in the range from 0 to 1, there is an 
    <strong>equal</strong> likelihood that your finger will be above a given point. There is
    <strong>NO</strong> chance you will place your finger outside the range, you are skilled with
    your eyes closed!
    <br><br>
    Now conveniently, we can use math to modify the value that we place our finger above.
    Say we <strong>multiply</strong> whatever value we receive by <strong>2</strong>. How have we
    affected the
    result? Well put simply, we have increased the <strong>range</strong> of our value. Now instead
    of being between 0 and 1, the value will be between 0 and 2. But we retain the property that
    any value in this range is <strong>equally</strong> likely.
    <br><br>
    <img src="uniform_x2.png" width="400px">
    <br><br>
    Cool! So that makes sense. You can twist and turn this range all you want by adding,
    subtracting, etc. For example, if we <strong>subtract 1</strong> from this new range, we manage
    to shift it down by, you guessed it, 1.
    <br><br>
    <img src="uniform_x2-1.png" width="400px">
    <br><br>
    Straightforward, right? If you are an experienced programmer or you know math well, this may
    seem trivial to you. But now I'll provide some more interesting insight.
    <br><br>
    No matter what we do - add, subtract, multiply, divide by constants - we will always retain 
    this property of <strong>equal</strong> (or better yet, uniform) likelihood. But there are ways
    that we can change this property to some other, what is called, <i>distribution</i>.
    <br><br>
    A simple example is if we take the first value from the range of 0 to 1 and multiply it by
    <strong>itself</strong>. You may know this as... not triangling or circling... but
    <i>squaring</i> the value. This will cause an important change in the graph.
    <br><br>
    <img src="quadratic_basic.png" width="400px">
    <br><br>
    <i>Well would you look at that!</i> We no longer have the flat line representing the
    likelihood. Now, it is a <strong>curve</strong>. If you examine the graph, you should be able to work
    out in your mind that small values in the range 0 to 1 are more likely to find our falling
    finger. The area near the right end (at 1) is <strong>much</strong> smaller than the area
    around 0.
    <br><br>
    Now, you should be wondering <i>why exactly</i> value are more likely to be near 0 than 1. Time
    for some math - but don't worry, <strong>it is simple math!</strong> What is the value of 0,
    squared (I'll use this notation: 0<sup>2</sup>)? Well multiplying 0 x 0 results in a value of
    ... well 0! What about 1<sup>2</sup>? 1 x 1 = 1. This math is super simple. Now for a more
    interesting multiplication. What is (0.5)<sup>2</sup>? Well if you plugged this in your
    calculator, you would find a value of 0.25. What about 0.9<sup>2</sup>? What about 
    0.1<sup>2</sup>? I'll write down some common values below.
    <br><br>
    <i>
    0<sup>2</sup> = 0<br>
    0.1<sup>2</sup> = 0.01<br>
    0.2<sup>2</sup> = 0.04<br>
    0.5<sup>2</sup> = 0.25<br>
    0.9<sup>2</sup> = 0.81<br>
    1<sup>2</sup> = 1
    </i>
    <br><br>
    The moral of the story is, when you square a value between 0 and 1, it becomes 
    <strong>smaller</strong>. With this logic, it is more likely that the value is small than large.
    I have made it a point to emphasize what is going on here because, well, it is important to
    understand how we will be working with the uniform distribution.
    <br><br>
    Now, time for something cool. Remember the "<i>*modified *modified Uniform Distribution</i>" from
    above? Well recall that it was a uniform distrubtion taking values between -1 and 1. Consider 
    any value in that range, <strong>squared</strong>. We just figured out what the graph will look
    like between 0 and 1. If you know anything about negative numbers, it should at least be that a
    negative times a negative becomes a positive.
    <br><br>
    With a little intuition, you may reason that the final distribution should look something like
    this:
    <br><br>
    <img src="laplace_basic.png" width="400px">
    <br><br>
    This shows that by taking the original uniform distribution in the range -1 to 1 and squaring
    it, we are <i>much</i> more likely to find values closer to 0 than we are near 1 or -1.
    <br><br>
    This looks like a Laplace Distribution. The name of this isn't so important, and truth be told
    it is not even the correct equation to find this particular distribution (I call it
    Laplace-like), but the point is that we have <i>emulated</i> a certain probability distribution
    with a simple translation from a uniform distribution. How fascinating!
    <br><br>
    We could take it upon ourselves to modify this even more! Say we want a range of -4 to 4.
    Multiplying by 4 would suffice! We could even square the value again to get a <i>tighter</i>
    slope around 0, which makes values near 0 <strong>very</strong> likely. The world is your
    playground!
    <br><br>
    Now, for the final part of this blog post: the 
    <a href="https://en.wikipedia.org/wiki/Normal_distribution">Normal Distribution</a>. The
    normal, or Gaussian, distribution is a very common distribution that we observe in the real
    world. What I want to cover here is how to convert from a uniform distribution to a normal
    distribution.
    <br><br>
    The simplest way I have found to <i>emulate</i> a normal distribution is with the tangent
    function. The plot of tangent is shown below.
    <br><br>
    <img src="tangent.png" width="400px">
    <br><br>
    The range of the input to tangent should be between (-0.5*pi) and (0.5*pi). Using methods
    towards the beginning of this post, we can change our range to match this quite easily. First,
    subtract 0.5 to change the range to -0.5 to 0.5. Then simply multiply by pi!
    <br><br>
    <i>
    uniform = rand();<br>
    mod_uniform = (uniform - 0.5) * pi;
    </i>
    <br><br>
    Consider now that the value we found within the new range of tangent is going to be used as the
    input to the tangent function. What output value from tangent should we expect? Well most of
    the time, the value will be near <strong>0</strong>. Only rarely (when the input is near an 
    extreme) will the value stray significantly away from 0. And to add another new phenomena, the
    output range has been extended to <i>infinity</i>. Woah.
    <br><br>
    <i>
    normal = Tangent(mod_uniform);
    </i>
    <br><br>
    If you run many samples through this random generator and plot them, you will find an output
    that <i>resembles</i> this curve (the <strong>Bell Curve</strong>).
    <br><br>
    <img src="normal.png" width="400px">
    <br><br>
    Values near zero are <strong>extremely</strong> likely, but there is a small chance of values
    outside the typical range of -1 to 1 or even -0.5*pi to 0.5*pi. You could even find a value of
    100 every once in a great long while, but it is <i>extremely unlikely</i>.
    <br><br>
    So, we have arrived! The normal distribution appears <i>all over the place</i> in the real 
    world, especially where probability and random processes are concerned. One example I can think
    of is, say you are programming a tree generation system. Well, it turns out that 
    <strong>most</strong> trees grow to be a certain height, but there are occasional odd-balls.
    Maybe you want some trees to grow shorter and some to grow taller, but rarely. Well guess what,
    the normal distribution may be exactly what you are looking for!
    <br><br>
    Many programming languages include the capability to pull directly from a normal distribution.
    randn exists in python and MATLAB. But some popular languages do not have this option.
    Javascript and C/C++ are examples. By implementing a <i>simple</i> funciton with Tangent, you
    can achieve your desired result.
    <br><br>
    If you would like to see this in action, I threw together a quick demonstration using the
    method I discussed in this article found at
    <a href="https://scisky.github.io/distribs.html">this link</a>.
    <br><br>
    <strong>A brief disclaimer</strong>: this distribution is 
    <strong>NOT precisly normal</strong>. It does not have the correct value of standard deviation.
    If you are looking for a more precise distribution, check out the 
    <a href="https://en.wikipedia.org/wiki/Box%E2%80%93Muller_transform">Box-Muller Transform</a>.
    It is similar, but with more precise control. It does require more computation though.
    <br><br>
    I hope you learned something! Random number generation is a very interesting topic, we are only
    scratching the surface.
    <br><br>
    Be Curious!
    </p>
    
    <div class="spacer-120"></div>
    <!-- Ideally ads would go here -->
    <div class="spacer-40"></div>
    
    <form action="https://www.paypal.com/cgi-bin/webscr" method="post" target="_top">
    <input type="hidden" name="cmd" value="_donations" />
    <input type="hidden" name="business" value="7H9DRMQQNF7JC" />
    <input type="hidden" name="currency_code" value="USD" />
    <input type="image" src="https://www.paypalobjects.com/en_US/i/btn/btn_donateCC_LG.gif" border="0" name="submit" title="PayPal - The safer, easier way to pay online!" alt="Donate with PayPal button" />
    <img alt="" border="0" src="https://www.paypal.com/en_US/i/scr/pixel.gif" width="1" height="1" />
    </form>

    <div class="spacer-120"></div>
    
    <p>&copy; 2019 Sky Hoffert</p>

</body>
</html>
